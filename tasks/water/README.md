# Вода

В данном задании вам предстоит нарисовать водичку и наконец-то понять зачем вас на первых курсах учили матану, диффурам и вычматам.

## Перед началом

 1. Скопируйте в эту папку любой уже рисующий что-то семпл.
    Если он рисует террейн, будет совсем хорошо.
 2. Вспомните лекцию, прочитайте полезные ссылки, соберитесь с силами.

## Задание

#### Шаг 1

Реализуйте обратное быстрое преобразование Фурье на GPU при помощи компьют-шейдера для двухмерного сигнала.
Для отладки используйте спектры для которых известно аналитическое решение соответствующего интеграла.
Конкретно рекомендуется использовать алгоритм "бабочку", обмениваясь информацией между соседними тредами GPU при помощи шареной памяти.
Помните, что алгоритм максимально классический и в интернете есть масса полезных материалов.

#### Шаг 2

Каждый кадр генерируйте случайный спектр для поверхности воды в зависимости от времени, скармливайте его в обратное преобразование Фурье и рисуйте итоговую карту высот аналогично террейну, но независимо от него.
Поиграйтесь с параметрами генерации и добейтесь красивой картинки.

## Бонусный уровень

Реализуйте любые дополнительные "фишки" рассказанные на лекции.
Баллы пропорциональны технологичности и красивости.
 - Отрисовка воды в прозрачном проходе.
 - Генерация нормалей и вычисление спекуляра с помощью их.
 - Смешение отражения (кубмапы неба) и (тривиального) преломления с учётом коэффициента Френеля.
 - Правдоподобное преломление.
 - Процедурная непрозрачная пена в точках перегиба при помощи второй производной.
 - Каустики.
 - Дисплейсмент воды объектами.

## Полезные материалы

 1. Realtime GPGPU FFT Ocean Water Simulation (Fynn-Jorin Flügge) &mdash; диссертация о воде
 2. https://evasion.inrialpes.fr/Membres/Fabrice.Neyret/NaturalScenes/fluids/water/waves/fluids-nuages/waves/Jonathan/articlesCG/simulating-ocean-water-01.pdf &mdash; статья о воде
 2. https://en.wikipedia.org/wiki/Cooley%E2%80%93Tukey_FFT_algorithm &mdash; вычисление FFT "бабочкой"
